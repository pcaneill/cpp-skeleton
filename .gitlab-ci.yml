before_script:
    - git submodule update --init --recursive
    - ./configure

normal:
    script:
        - cd build/normal
        - make
        - ./src/test/ztests
        - cd ../../src/
        - touch main.cpp
        - cd ../build/normal/src
        - make
        - ./test/ztests
        - cd ../../../src/test
        - touch test.cpp
        - cd ../../build/normal/src/test
        - make
        - ./ztests

asan:
    script:
        - cd build/asan
        - make
        - ./src/test/ztests

msan:
    script:
        - cd build/msan
        - make
        - ./src/test/ztests

usan:
    script:
        - cd build/usan
        - make
        - ./src/test/ztests

tsan:
    script:
        - cd build/tsan
        - make
        - ./src/test/ztests
